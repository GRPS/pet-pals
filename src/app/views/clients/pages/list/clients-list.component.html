<ng-container *ngIf="clientsService.items$ | async as items">

    <ng-container *ngIf="(clientsService.countClient$ | async) as clientCount">

        <app-header title="All Clients" [badge]="clientCount">
            <button type="button" class="btn btn-info btn-sm" routerLink="/clients/add">Add <i class="bi bi-plus"></i></button>
        </app-header>

        <div class="pagination mt-3">
            <button type="button" class="btn btn-default btn-sm pl-0" (click)="previous()" [disabled]="disable_prev() || !(pagination_clicked_count()>0)"><i class="bi bi-chevron-left"></i>Previous</button>
            <small>Page: {{ (pagination_clicked_count() + 1) }}/{{ (clientCount/2).toFixed(0) }}</small>
            <button type="button" class="btn btn-default btn-sm pr-0" (click)="next()" [disabled]="disable_next()">Next <i class="bi bi-chevron-right"></i></button>
        </div>

        <div class="table-responsive">
            <table class="table table-bordered table-hover table-sm">
                <thead>
                <tr>
                    <th>Customer #</th>
                    <th>Pet's Name</th>
                    <th>Name</th>
                    <th>Address</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let item of items" (click)="open(item, $event)">
                    <td>{{ item.customerNumber }}</td>
                    <td>{{ item.petName }}</td>
                    <td>{{ item.name }}</td>
                    <td>{{ item.address }}</td>
                </tr>
                </tbody>
            </table>
        </div>

    </ng-container>

</ng-container>

<ng-template #loading>
    <div class="spinner-border text-green" role="status"></div>
</ng-template>
