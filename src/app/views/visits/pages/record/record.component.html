<form [formGroup]="form" *ngIf="form">

    <app-header [title]="getTitle">
        <ng-container *ngIf="!isEditMode">
            <button type="button" class="btn btn-primary btn-sm" (click)="setEditMode()">Edit</button>
            <button type="button" class="btn btn-secondary btn-sm ml-2" (click)="back()">Back</button>
        </ng-container>
        <ng-container *ngIf="isEditMode">
            <button type="button" class="btn btn-success btn-sm" (click)="onSubmit()" [disabled]="formNoValid">Save</button>
            <button type="button" class="btn btn-secondary btn-sm ml-2" (click)="back()">Cancel</button>
        </ng-container>
    </app-header>

    <div class="mt-3 mb-3">
        <label class="form-label" for="dt">Date *</label>
        <input type="date" class="form-control" formControlName="dt" id="dt" *ngIf="isEditMode">
        <div [innerHTML]="form.get('dt').value" *ngIf="!isEditMode"></div>
    </div>

    <div class="mb-3">
        <label class="form-label" for="name">petpals visitor *</label>
        <input type="text" class="form-control" formControlName="name" id="name" *ngIf="isEditMode">
        <div [innerHTML]="form.get('name').value" *ngIf="!isEditMode"></div>
    </div>

    <div class="text-end mb-4">
        <button type="button" class="btn btn-danger btn-sm" (click)="delete()" *ngIf="!isNew">Delete</button>
    </div>

    <pre>
        {{ form.value | json }}
    </pre>
</form>
